<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Ball Drop Puzzle Game</title>
	<link rel="stylesheet" href="src/styles/main.css">
</head>
<body>
	<!-- Main Container -->
	<div id="app">
		
		<!-- Menu Screen -->
		<div id="menuScreen" class="screen">
			<div class="menu-container">
				<img src="src/img/Logotrans.png" alt="Ball Drop Puzzle Logo" class="game-logo">
				
				<div class="difficulty-selector">
					<h2>Select Difficulty</h2>
					<div class="difficulty-buttons">
						<button class="difficulty-btn" data-difficulty="1">Easy</button>
						<button class="difficulty-btn" data-difficulty="2">Medium</button>
						<button class="difficulty-btn" data-difficulty="3">Hard</button>
						<button class="difficulty-btn" data-difficulty="4">Expert</button>
						<button class="difficulty-btn" data-difficulty="5">Master</button>
					</div>
				</div>
				
				<div class="level-selector">
					<h2>Select Level</h2>
					<div id="levelGrid" class="level-grid">
						<!-- Level buttons dynamically generated -->
					</div>
				</div>
				
				<div class="menu-actions">
					<button id="startButton" class="btn-primary">Start Game</button>
					<button id="settingsButton" class="btn-secondary">Settings</button>
				</div>
				
				<div class="high-scores">
					<h3>High Score</h3>
					<p id="highScoreDisplay">-</p>
				</div>
			</div>
		</div>
		
		<!-- Game Screen -->
		<div id="gameScreen" class="screen hidden">
			<!-- HUD -->
			<div id="hud" class="hud">
				<div class="hud-left">
					<div class="hud-item">
						<span class="hud-label">Difficulty:</span>
						<span id="difficultyDisplay" class="hud-value">1</span>
						<input type="number" id="difficultyInput" class="hud-input" min="1" max="5" value="1" style="display: none;">
					</div>
					<div class="hud-item">
						<span class="hud-label">Level:</span>
						<span id="levelDisplay" class="hud-value">1</span>
						<input type="number" id="levelInput" class="hud-input" min="1" max="20" value="1" style="display: none;">
					</div>
				</div>
				
				<div class="hud-center">
					<div class="hud-item timer">
						<span class="hud-label">Time:</span>
						<span id="timerDisplay" class="hud-value">15.0s</span>
					</div>
				</div>
				
				<div class="hud-right">
					<div class="hud-item">
						<span class="hud-label">Level Score:</span>
						<span id="levelScoreDisplay" class="hud-value">0</span>
					</div>
					<div class="hud-item">
						<span class="hud-label">Total Score:</span>
						<span id="totalScoreDisplay" class="hud-value">0</span>
					</div>
				</div>
		</div>
		
		<!-- Game Board Container -->
		<div class="game-container">
			<!-- Ball Types Legend -->
			<div class="ball-legend">
				<h3>Ball Types</h3>
				<div class="legend-item">
					<div class="legend-ball normal-ball"></div>
					<div class="legend-text">
						<strong>Normal</strong>
						<span>Standard ball</span>
					</div>
				</div>
				<div class="legend-item">
					<div class="legend-ball exploding-ball">âœ±</div>
					<div class="legend-text">
						<strong>Exploding</strong>
						<span>Destroys nearby balls</span>
					</div>
				</div>
				<div class="legend-item">
					<div class="legend-ball blocking-ball">âœ•</div>
					<div class="legend-text">
						<strong>Blocking</strong>
						<span>Can't be cleared</span>
					</div>
				</div>
				<div class="legend-item">
					<div class="legend-ball painter-ball">â”€</div>
					<div class="legend-text">
						<strong>Painter H</strong>
						<span>Paints row same color</span>
					</div>
				</div>
				<div class="legend-item">
					<div class="legend-ball painter-ball">â”‚</div>
					<div class="legend-text">
						<strong>Painter V</strong>
						<span>Paints column same color</span>
					</div>
				</div>
				<div class="legend-item">
					<div class="legend-ball painter-ball">â•²</div>
					<div class="legend-text">
						<strong>Painter D</strong>
						<span>Paints diagonal same color</span>
					</div>
				</div>
				
				<h3 style="margin-top: 1.5rem;">Available Colors</h3>
				<div id="availableColors" class="available-colors">
					<!-- Colors will be populated by JavaScript -->
				</div>
			</div>
			
			<!-- Main Game Canvas -->
			<canvas id="gameCanvas"></canvas>				<!-- Next Piece Preview -->
				<div class="preview-panel">
					<h3>Next Piece</h3>
					<canvas id="previewCanvas"></canvas>
				</div>
			</div>
			
			<!-- Controls Info -->
			<div class="controls-info">
				<p><kbd>â†</kbd> <kbd>â†’</kbd> Move | <kbd>â†‘</kbd> Rotate | <kbd>â†“</kbd> Drop | <kbd>P</kbd> Pause | <kbd>R</kbd> Restart</p>
			</div>
		</div>
		
		<!-- Pause Overlay -->
		<div id="pauseOverlay" class="overlay hidden">
			<div class="overlay-content">
				<h2>Paused</h2>
				<div class="overlay-actions">
					<button id="resumeButton" class="btn-primary">Resume</button>
					<button id="restartFromPauseButton" class="btn-secondary">Restart</button>
					<button id="menuFromPauseButton" class="btn-secondary">Main Menu</button>
				</div>
			</div>
		</div>
		
		<!-- Game Over Overlay -->
		<div id="gameOverOverlay" class="overlay hidden">
			<div class="overlay-content">
				<h2>Game Over</h2>
				<div class="game-over-stats">
					<p class="stat-label">Level Score:</p>
					<p id="finalLevelScore" class="stat-value">0</p>
					<p class="stat-label">Total Score:</p>
					<p id="finalTotalScore" class="stat-value">0</p>
					<p id="newHighScoreMessage" class="new-high-score hidden">ğŸ‰ NEW HIGH SCORE! ğŸ‰</p>
				</div>
				<div class="overlay-actions">
					<button id="retryButton" class="btn-primary">Retry</button>
					<button id="menuFromGameOverButton" class="btn-secondary">Main Menu</button>
				</div>
			</div>
		</div>
		
		<!-- Level Complete Overlay -->
		<div id="levelCompleteOverlay" class="overlay hidden">
			<div class="overlay-content">
				<h2 id="levelCompleteTitle">Level Complete!</h2>
				<p id="levelCompleteReason" class="level-complete-reason"></p>
				<div class="level-complete-stats">
					<div class="stat-row">
						<span class="stat-label">This Time:</span>
						<span id="completeThisScore" class="stat-value">0</span>
					</div>
					<div class="stat-row">
						<span class="stat-label">Best Score:</span>
						<span id="completeBestScore" class="stat-value">0</span>
					</div>
					<div class="stat-row">
						<span class="stat-label">Time Survived:</span>
						<span id="completeTimeSurvived" class="stat-value">0.0s</span>
					</div>
					<div class="stat-row">
						<span class="stat-label">Longest Time:</span>
						<span id="completeLongestTime" class="stat-value">0.0s</span>
					</div>
					<p id="levelCompleteHighScoreMessage" class="new-high-score hidden">ğŸ‰ NEW BEST SCORE! ğŸ‰</p>
				</div>
				<div class="overlay-actions">
					<button id="nextLevelButton" class="btn-primary">Next Level</button>
					<button id="replayLevelButton" class="btn-secondary">Replay Level</button>
					<button id="menuFromCompleteButton" class="btn-secondary">Main Menu</button>
				</div>
			</div>
		</div>
		
		<!-- Settings Overlay -->
		<div id="settingsOverlay" class="overlay hidden">
			<div class="overlay-content">
				<h2>Settings</h2>
				<div class="settings-options">
					<div class="setting-item">
						<label for="muteToggle">
							<span class="setting-icon">ğŸ”Š</span> Mute All:
						</label>
						<input type="checkbox" id="muteToggle" class="toggle-checkbox">
					</div>
					
					<div class="setting-item">
						<label for="masterVolumeSlider">
							<span class="setting-icon">ğŸšï¸</span> Master Volume:
						</label>
						<input type="range" id="masterVolumeSlider" min="0" max="100" value="70" class="volume-slider">
						<span id="masterVolumeValue" class="volume-value">70%</span>
					</div>
					
					<div class="setting-item">
						<label for="sfxVolumeSlider">
							<span class="setting-icon">ğŸ’¥</span> Sound Effects:
						</label>
						<input type="range" id="sfxVolumeSlider" min="0" max="100" value="80" class="volume-slider">
						<span id="sfxVolumeValue" class="volume-value">80%</span>
					</div>
					
					<div class="setting-item">
						<label for="musicVolumeSlider">
							<span class="setting-icon">ğŸµ</span> Music:
						</label>
						<input type="range" id="musicVolumeSlider" min="0" max="100" value="50" class="volume-slider">
						<span id="musicVolumeValue" class="volume-value">50%</span>
					</div>
				</div>
				<div class="overlay-actions">
					<button id="closeSettingsButton" class="btn-primary">Close</button>
				</div>
			</div>
		</div>
		
		<!-- Particle Canvas Overlay (for celebrations that need to appear above overlays) -->
		<canvas id="particleCanvas" class="particle-overlay"></canvas>
		
	</div>
	
	<!-- JavaScript Modules -->
	<script type="module" src="src/main.js"></script>
</body>
</html>
